(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,a){e.exports=a(314)},178:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(52),o=a.n(l),s=a(15),c=a(16),i=a(19),u=a(18),p=a(20),d=(a(175),a(178),a(316)),m=a(317),f=a(324),h=a(332),v=a(140),g=a(331),E=a(325),O=a(327),b=a(326),S=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(d.a,{placeholder:!0},r.a.createElement(m.a,{columns:2,stackable:!0,textAlign:"center"},r.a.createElement(f.a,{vertical:!0},"Or"),r.a.createElement(m.a.Row,{verticalAlign:"middle"},r.a.createElement(m.a.Column,null,r.a.createElement(h.a,{icon:!0},r.a.createElement(v.a,{name:"paste"}),"\u0421 \u0431\u0443\u0444\u0435\u0440\u0430 \u043e\u0431\u043c\u0435\u043d\u0430"),r.a.createElement(g.a,{id:"upload_clipboard",secondary:!0}," ","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"," ")),r.a.createElement(m.a.Column,null,r.a.createElement(h.a,{icon:!0},r.a.createElement(v.a,{name:"file"}),"\u0421 \u0444\u0430\u0439\u043b\u0430"),r.a.createElement("div",null,r.a.createElement(E.a,{id:"upload_textfile",type:"file",encType:"multipart/form-data"})))))),r.a.createElement(O.a,null,r.a.createElement(O.a.Field,{id:"fullText",control:b.a,label:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:this.props.state.data.fullText,onChange:function(t,a){var n=JSON.parse(JSON.stringify(e.props.state));n.data.fullText=a.value,e.props.changeState(n)},autoHeight:!0})))}},{key:"componentDidMount",value:function(){var e=this;document.getElementById("upload_textfile").addEventListener("change",function(t){var a=t.target.files[0],n=new FileReader;n.onload=function(e){var t=JSON.parse(JSON.stringify(this.props.state));t.data.fullText=e.target.result,this.props.changeState(t)}.bind(e),n.readAsText(a)},!1),document.getElementById("upload_clipboard").addEventListener("click",function(){navigator.clipboard.readText().then(function(t){var a=JSON.parse(JSON.stringify(e.props.state));a.data.fullText=t,e.props.changeState(a)}).catch(function(t){var a=JSON.parse(JSON.stringify(e.props.state));a.data.fullText="",e.props.changeState(a)})},!1)}}]),t}(n.Component),y=a(55);function j(e,t){return e.split("").map(function(e){return t.includes(e)?" ":e}).join("").replace(/\s+/g," ").toLowerCase()}var w=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(JSON.stringify(this.props.state));e.data.clearedText=j(e.data.fullText,e.data.stopSymbols),this.props.changeState(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(O.a,null,r.a.createElement(O.a.Field,{control:E.a,label:"\u0421\u0442\u043e\u043f \u0441\u0438\u043c\u0432\u043e\u043b\u044b",value:this.props.state.data.stopSymbols,onChange:function(t,a){var n=JSON.parse(JSON.stringify(e.props.state));n.data.stopSymbols=a.value,n.data.clearedText=j(n.data.fullText,Object(y.a)(a.value)),e.props.changeState(n)}}),r.a.createElement(O.a.Field,{control:b.a,label:"\u041e\u0447\u0438\u0449\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",value:this.props.state.data.clearedText,autoHeight:!0}))}}]),t}(n.Component),k=a(329),x=a(328);Array.prototype.customeSort=function(e){return function e(t,a){if(0===t.length)return[];var n=[];var r=[];var l=t[0];for(var o=1;o<t.length;o++)a(t[o],l)?n[n.length]=t[o]:r[r.length]=t[o];return e(n,a).concat(l,e(r,a))}(this,e)};var C=[{text:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",value:"defaultSort"},{text:"\u0412 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e \u0441 \u043d\u0430\u0447\u0430\u043b\u0430",value:"ascendingFromBeginningSort"},{text:"\u0412 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e \u0441 \u043d\u0430\u0447\u0430\u043b\u0430",value:"descendingFromBeginningSort"},{text:"\u0412 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e \u0441 \u043a\u043e\u043d\u0446\u0430",value:"asceningFromEndingSort"},{text:"\u0412 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e \u0441 \u043a\u043e\u043d\u0446\u0430",value:"descendingFromEndingSort"}],J={defaultSort:function(e){return e},ascendingFromBeginningSort:function(e){return e.customeSort(function(e,t){return e.localeCompare(t)})},descendingFromBeginningSort:function(e){return e.customeSort(function(e,t){return t.localeCompare(e)})},asceningFromEndingSort:function(e){return e.customeSort(function(e,t){var a=e.split("").reverse().join(""),n=t.split("").reverse().join("");return a.localeCompare(n)})},descendingFromEndingSort:function(e){return e.customeSort(function(e,t){var a=e.split("").reverse().join(""),n=t.split("").reverse().join("");return n.localeCompare(a)})}};var N=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(JSON.stringify(this.props.state));e.data.words=this.props.state.data.clearedText.split(" ").filter(function(e){return""!==e&&e.length>=3}),this.props.changeState(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(O.a,null,r.a.createElement(O.a.Field,null,r.a.createElement(k.a,{options:C,defaultValue:C[0].value,onChange:function(t,a){var n=JSON.parse(JSON.stringify(e.props.state));n.data.words=J[a.value](n.data.words),e.props.changeState(n)}})),r.a.createElement(O.a.Field,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Body,null,this.props.state.data.words.map(function(e,t){return r.a.createElement(x.a.Row,{key:t},r.a.createElement(x.a.Cell,null,e))})))))}}]),t}(n.Component),W=["\u0432","\u0432\u0448\u0438","\u0432\u0448\u0438\u0441\u044c","\u0438\u0432","\u0438\u0432\u0448\u0438","\u0438\u0432\u0448\u0438\u0441\u044c","\u044b\u0432","\u044b\u0432\u0448\u0438","\u044b\u0432\u0448\u0438\u0441\u044c"],_=["\u0435\u0435","\u0438\u0435","\u044b\u0435","\u043e\u0435","\u0438\u043c\u0438","\u044b\u043c\u0438","\u0435\u0439","\u0438\u0439","\u044b\u0439","\u043e\u0439","\u0435\u043c","\u0438\u043c","\u044b\u043c","\u043e\u043c","\u0435\u0433\u043e","\u043e\u0433\u043e","\u0435\u043c\u0443","\u043e\u043c\u0443","\u0438\u0445","\u044b\u0445","\u0443\u044e","\u044e\u044e","\u0430\u044f","\u044f\u044f","\u043e\u044e","\u0435\u044e"],F=["\u0435\u043c","\u043d\u043d","\u0432\u0448","\u044e\u0449","\u0449","\u0438\u0432\u0448","\u044b\u0432\u0448","\u0443\u044e\u0449"],T=["\u0441\u044f","\u0441\u044c"],B=["\u043b\u0430","\u043d\u0430","\u0435\u0442\u0435","\u0439\u0442\u0435","\u043b\u0438","\u0439","\u043b","\u0435\u043c","\u043d","\u043b\u043e","\u043d\u043e","\u0435\u0442","\u044e\u0442","\u043d\u044b","\u0442\u044c","\u0435\u0448\u044c","\u043d\u043d\u043e","\u0438\u043b\u0430","\u044b\u043b\u0430","\u0435\u043d\u0430","\u0435\u0439\u0442\u0435","\u0443\u0439\u0442\u0435","\u0438\u0442\u0435","\u0438\u043b\u0438","\u044b\u043b\u0438","\u0435\u0439","\u0443\u0439","\u0438\u043b","\u044b\u043b","\u0438\u043c","\u044b\u043c","\u0435\u043d","\u0438\u043b\u043e","\u044b\u043b\u043e","\u0435\u043d\u043e","\u044f\u0442","\u0443\u0435\u0442","\u0443\u044e\u0442","\u0438\u0442","\u044b\u0442","\u0435\u043d\u044b","\u0438\u0442\u044c","\u044b\u0442\u044c","\u0438\u0448\u044c","\u0443\u044e","\u044e"],R=["\u0430","\u0435\u0432","\u043e\u0432","\u0438\u0435","\u044c\u0435","\u0435","\u0438\u044f\u043c\u0438","\u044f\u043c\u0438","\u0430\u043c\u0438","\u0435\u0438","\u0438\u0438","\u0438","\u0438\u0435\u0439","\u0435\u0439","\u043e\u0439","\u0438\u0439","\u0439","\u0438\u044f\u043c","\u044f\u043c","\u0438\u0435\u043c","\u0435\u043c","\u0430\u043c","\u043e\u043c","\u043e","\u0443","\u0430\u0445","\u0438\u044f\u0445","\u044f\u0445","\u044b","\u044c","\u0438\u044e","\u044c\u044e","\u044e","\u0438\u044f","\u044c\u044f","\u044f"],M=["\u0435\u0439\u0448","\u0435\u0439\u0448\u0435"],I=["\u043e\u0441\u0442","\u043e\u0441\u0442\u044c"],P=["\u0430","\u0435","\u0451","\u0438","\u043e","\u0443","\u044b","\u044d","\u044e","\u044f"],A=["\u0431","\u0432","\u0433","\u0434","\u0436","\u0437","\u0439","\u043a","\u043b","\u043c","\u043d","\u043f","\u0440","\u0441","\u0442","\u0444","\u0445","\u0446","\u0447","\u0448","\u0449","\u044a","\u044b","\u044c"],V=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"stemAll",value:function(e){var t=this;return e.map(function(e){return t.stem(e)})}},{key:"stem",value:function(e){var t=this.findWordParts(e);return this.stemByWordParts(t).word}},{key:"stemByWordParts",value:function(e){for(var t=e.reversed_word,a=e.RV,n=e.R2,r=function(e,t){return e.length>=t.length?-1:1},l=W.sort(r),o=T.sort(r),s=_.sort(r),c=F.sort(r),i=B.sort(r),u=R.sort(r),p=I.sort(r),d=M.sort(r),m=!1,f=!1,h=0;h<=l.length-1;h++){var v=this.reverse_word(l[h]);if(t.slice(0,v.length)===v)return t=t.replace(v,""),Object.assign({},e,{reversed_word:t,word:this.reverse_word(t)})}for(var g=0;g<=o.length-1;g++){var E=this.reverse_word(o[g]);if(a.slice(0,E.length)===E){a=a.replace(E,""),t=t.replace(E,""),m=!0;break}}for(var O=0;O<=s.length-1;O++){var b=this.reverse_word(s[O]);if(a.slice(0,b.length)===b){a=a.replace(b,""),t=t.replace(b,""),f=!0;break}}for(var S=0;S<=c.length-1;S++){var y=this.reverse_word(c[S]);if(a.slice(0,y.length)===y){a=a.replace(y,""),t=t.replace(y,"");break}}if(f)return Object.assign({},e,{RV:a,reversed_word:t,word:this.reverse_word(t)});for(var j=0;j<=i.length-1;j++){var w=this.reverse_word(i[j]);if(a.slice(0,w.length)===w){a=a.replace(w,""),t=t.replace(w,"");break}}if(!m)for(var k=0;k<=u.length-1;k++){var x=this.reverse_word(u[k]);if(t.slice(0,x.length)===x){a=a.replace(x,""),t=t.replace(x,"");break}}"\u0438"===t[0]&&(t=t.slice(1,t.length-1));for(var C=0;C<=p.length-1;C++){var J=this.reverse_word(p[C]);if(n.slice(0,J.length)===J){t=t.replace(J,"");break}}if(n)for(var N=0;N<=p.length-1;N++){var P=this.reverse_word(p[N]);if(n.slice(0,P.length)===P){t=t.replace(P,"");break}}for(var A=d.concat(["\u043d","\u044c"]),V=0;V<=A.length-1;V++){var L=this.reverse_word(A[V]);if(n.slice(0,L.length)===L){t=t.replace(L,"");break}}return Object.assign({},e,{RV:a,reversed_word:t,word:this.reverse_word(t)})}},{key:"findWordParts",value:function(e){var t=this.reverse_word(e),a=Math.max.apply(Math,Object(y.a)(P.map(function(e){return-1!==t.indexOf(e)&&A.includes(t[t.indexOf(e)+1])?t.indexOf(e)-1:0}))),n=t.substr(0,a),r=Math.min.apply(Math,Object(y.a)(A.map(function(e){return-1!==n.indexOf(e)?t.indexOf(e):a}))),l=t.substr(r,a-1),o=Math.max.apply(Math,Object(y.a)(P.map(function(e){return-1!==n.indexOf(e)&&A.includes(n[n.indexOf(e)+1])?t.indexOf(e)+1:r}))),s=t.substr(r,o);return{word:e,reversed_word:t,RV:n,R1:l,R2:s}}},{key:"reverse_word",value:function(e){return e.split("").reverse().join("")}}]),e}(),L=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=new V,t=JSON.parse(JSON.stringify(this.props.state));t.data.stemmedWords=e.stemAll(this.props.state.data.words).filter(function(e){return""!==e}),this.props.changeState(t)}},{key:"render",value:function(){var e=this;return r.a.createElement(O.a,null,r.a.createElement(O.a.Field,null,r.a.createElement(k.a,{options:C,defaultValue:C[0].value,onChange:function(t,a){var n=JSON.parse(JSON.stringify(e.props.state));n.data.stemmedWords=J[a.value](n.data.stemmedWords),e.props.changeState(n)}})),r.a.createElement(O.a.Field,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Body,null,this.props.state.data.stemmedWords.map(function(e,t){return r.a.createElement(x.a.Row,{key:t},r.a.createElement(x.a.Cell,null,e))})))))}}]),t}(n.Component),D=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(JSON.stringify(this.props.state)),t=[];this.props.state.data.stemmedWords.forEach(function(e){var a=t.findIndex(function(t){return t.value===e});-1!==a?t[a].count+=1:t.push({value:e,count:1})}),e.data.groupedWords=t.sort(function(e,t){return t.count-e.count}),this.props.changeState(e)}},{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(O.a.Field,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Body,null,this.props.state.data.groupedWords.map(function(e,t){return r.a.createElement(x.a.Row,{key:t},r.a.createElement(x.a.Cell,null,e.value),r.a.createElement(x.a.Cell,null,e.count))})))))}}]),t}(n.Component),H=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(JSON.stringify(this.props.state));this.props.state.data.weightCoef=[{width:1,words:e.data.groupedWords.slice(0,4)},{width:2,words:e.data.groupedWords.slice(4,10)},{width:3,words:e.data.groupedWords.slice(10,20)}]}},{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(O.a.Field,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Body,null,this.props.state.data.groupedWords.slice(0,20).map(function(e,t){return r.a.createElement(x.a.Row,{key:t},r.a.createElement(x.a.Cell,null,e.value),r.a.createElement(x.a.Cell,null,e.count),r.a.createElement(x.a.Cell,null,t<4?"1  \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f":t<10?"2  \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f":"3  \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"))})))))}}]),t}(n.Component);var q=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(O.a.Field,null,r.a.createElement(E.a,{icon:{name:"search",circular:!0,link:!0},placeholder:"Search ...",onChange:function(e,t){var a=this,n=new V,r=JSON.parse(JSON.stringify(this.props.state)),l=t.value.split("").map(function(e){return a.props.state.data.stopSymbols.includes(e)?" ":e}).join("").replace(/\s+/g," ").toLowerCase(),o=l.split(" ").filter(function(e){return""!==e}),s=n.stemAll(o).filter(function(e){return""!==e&&e.length>=3}),c=[],i=0,u=0;s.forEach(function(e){var t=0;if(a.props.state.data.weightCoef.forEach(function(a){a.words.forEach(function(n){n.value===e&&(t=a.width)})}),0!==t){var n=a.props.state.data.groupedWords.find(function(t){return t.value===e});c.push(n.value),i+=1/t*n.count,u+=n.count}}),r.data.relevance={text:l,stemmedWords:s,relevance:i/u,matchingWords:c},this.props.changeState(r)}.bind(this)})),r.a.createElement(O.a.Field,null,r.a.createElement("b",null,"\u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438:"," ",this.props.state.data.relevance.relevance)),r.a.createElement(O.a.Field,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Body,null,this.props.state.data.relevance.matchingWords.map(function(e,t){return r.a.createElement(x.a.Row,{key:t},r.a.createElement(x.a.Cell,null,e))})))))}}]),t}(n.Component),z=a(330),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).panes=[{menuItem:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",render:function(){return r.a.createElement(z.a.Pane,null,r.a.createElement(S,{state:a.props.state,changeState:a.props.changeState}))}},{menuItem:"\u041e\u0447\u0438\u0441\u0442\u043a\u0430",render:function(){return r.a.createElement(z.a.Pane,null,r.a.createElement(w,{state:a.props.state,changeState:a.props.changeState}))}},{menuItem:"\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u043b\u043e\u0432\u0430",render:function(){return r.a.createElement(z.a.Pane,null,r.a.createElement(N,{state:a.props.state,changeState:a.props.changeState}))}},{menuItem:"\u0421\u0442\u0435\u043c\u043c\u0438\u043d\u0433",render:function(){return r.a.createElement(z.a.Pane,null,r.a.createElement(L,{state:a.props.state,changeState:a.props.changeState}))}},{menuItem:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430",render:function(){return r.a.createElement(z.a.Pane,null,r.a.createElement(D,{state:a.props.state,changeState:a.props.changeState}))}},{menuItem:"\u0412\u0435\u0441\u043e\u0432\u044b\u0435 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b",render:function(){return r.a.createElement(z.a.Pane,null,r.a.createElement(H,{state:a.props.state,changeState:a.props.changeState}))}},{menuItem:"\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438",render:function(){return r.a.createElement(z.a.Pane,null,r.a.createElement(q,{state:a.props.state,changeState:a.props.changeState}))}}],a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(z.a,{menu:{fluid:!0,vertical:!0,tabular:!0,pointing:!0},panes:this.panes})}}]),t}(n.Component),K=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={data:{fullText:"",stopSymbols:"0123456789.,<>?!-:;{}[]/'()=&|^",clearedText:"",words:[],stemmedWords:[],groupedWords:[],weightCoef:[],relevance:{text:"",stemmedWords:[],relevance:"",matchingWords:[]}}},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"changeState",value:function(e){this.setState(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(G,{state:this.state,changeState:this.changeState.bind(this)}))}}]),t}(n.Component);o.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[170,2,1]]]);
//# sourceMappingURL=main.4417e510.chunk.js.map